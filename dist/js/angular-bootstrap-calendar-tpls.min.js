/**
 * angular-bootstrap-calendar - A pure AngularJS bootstrap themed responsive calendar that can display events and has views for year, month, week and day
 * @version v0.29.0
 * @link https://github.com/mattlewis92/angular-bootstrap-calendar
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular"),require("moment"),function(){try{return require("interactjs")}catch(e){}}()):"function"==typeof define&&define.amd?define(["angular","moment","interact"],t):"object"==typeof exports?exports.angularBootstrapCalendarModuleName=t(require("angular"),require("moment"),function(){try{return require("interactjs")}catch(e){}}()):e.angularBootstrapCalendarModuleName=t(e.angular,e.moment,e.interact)}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=44)}([function(t,n){t.exports=e},function(e,t,n){function r(e,t){if(d(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=t||{},r=n.additionalDigits;r=null==r?m:Number(r);var c=a(e),u=o(c.date,r),v=u.year,p=u.restDateString,w=i(p,v);if(w){var g,h=w.getTime(),y=0;return c.time&&(y=s(c.time)),c.timezone?g=l(c.timezone):(g=new Date(h+y).getTimezoneOffset(),g=new Date(h+y+g*f).getTimezoneOffset()),new Date(h+y+g*f)}return new Date(e)}function a(e){var t,n={},r=e.split(v);if(p.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var a=$.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function o(e,t){var n,r=g[t],a=y[t];if(n=h.exec(e)||a.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=w.exec(e)||r.exec(e)){var i=n[1];return{year:100*parseInt(i,10),restDateString:e.slice(i.length)}}return{year:null}}function i(e,t){if(null===t)return null;var n,r,a,o;if(0===e.length)return r=new Date(0),r.setUTCFullYear(t),r;if(n=D.exec(e))return r=new Date(0),a=parseInt(n[1],10)-1,r.setUTCFullYear(t,a),r;if(n=k.exec(e)){r=new Date(0);var i=parseInt(n[1],10);return r.setUTCFullYear(t,0,i),r}if(n=b.exec(e)){r=new Date(0),a=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(t,a,s),r}if(n=C.exec(e))return o=parseInt(n[1],10)-1,c(t,o);if(n=x.exec(e)){o=parseInt(n[1],10)-1;return c(t,o,parseInt(n[2],10)-1)}return null}function s(e){var t,n,r;if(t=T.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*u;if(t=M.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*u+r*f;if(t=E.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return n%24*u+r*f+1e3*a}return null}function l(e){var t,n;return(t=O.exec(e))?0:(t=S.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=A.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0)}function c(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,o=7*t+n+1-a;return r.setUTCDate(r.getUTCDate()+o),r}var d=n(23),u=36e5,f=6e4,m=2,v=/[T ]/,p=/:/,w=/^(\d{2})$/,g=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],h=/^(\d{4})/,y=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],D=/^-(\d{2})$/,k=/^-?(\d{3})$/,b=/^-?(\d{2})-?(\d{2})$/,C=/^-?W(\d{2})$/,x=/^-?W(\d{2})-?(\d{1})$/,T=/^(\d{2}([.,]\d*)?)$/,M=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,E=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,$=/([Z+-].*)$/,O=/^(Z)$/,S=/^([+-])(\d{2})$/,A=/^([+-])(\d{2}):?(\d{2})$/;e.exports=r},function(e,t,n){function r(e){var t=a(e);return t.setHours(0,0,0,0),t}var a=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=a(e).getTime(),r=Number(t);return new Date(n+r)}var a=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=a(e),r=a(t);return n.getTime()-r.getTime()}var a=n(1);e.exports=r},function(e,t){},function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./mwlCalendar.js":36,"./mwlCalendarMonth.js":37,"./mwlCalendarYear.js":38,"./mwlDateModifier.js":39,"./mwlDraggable.js":40,"./mwlDroppable.js":41,"./mwlDynamicDirectiveTemplate.js":42,"./mwlElementDimensions.js":43};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=6},function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./calendarDate.js":45,"./calendarLimitTo.js":46,"./calendarTrustAsHtml.js":47};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=7},function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./calendarConfig.js":48,"./calendarEventTitle.js":49,"./calendarHelper.js":50,"./calendarTitle.js":51,"./interact.js":52,"./moment.js":53};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=8},function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./calendar.html":33,"./calendarMonthView.html":34,"./calendarYearView.html":35};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=9},function(e,t,n){"use strict";function r(e){var t=e.startDate,n=e.days,r=e.excluded;if(r.length<1)return 0;for(var a=t.getDay(),o=0,i=0;i<n;i++)a===X&&(a=0),r.some(function(e){return e===a})&&o++,a++;return o}function a(e){var t=e.event,n=e.offset,a=e.startOfWeek,o=e.excluded,i=t.start<a?a:t.start,s=1;return t.end&&(s=y()(g()(p()(t.end),1),k()(i))),n+s>X&&(s=X-n),s-r({startDate:i,days:s,excluded:o})}function o(e){var t=e.event,n=e.startOfWeek,a=e.excluded,o=void 0===a?[]:a;if(t.start<n)return 0;var i=y()(t.start,n);return i-r({startDate:n,days:i,excluded:o})}function i(e){var t=e.event,n=e.periodStart,r=e.periodEnd,a=t.start,o=t.end||t.start;return a>n&&a<r||(o>n&&o<r||(a<n&&o>r||(!(!z()(a,n)&&!z()(a,r))||!(!z()(o,n)&&!z()(o,r)))))}function s(e){var t=e.events,n=e.periodStart,r=e.periodEnd;return t.filter(function(e){return i({event:e,periodStart:n,periodEnd:r})})}function l(e){var t=e.date,n=k()(new Date);return{date:t,isPast:t<n,isToday:C()(t,n),isFuture:t>n,isWeekend:Q.indexOf(T()(t))>-1}}function c(e){for(var t=e.viewDate,n=e.weekStartsOn,r=e.excluded,a=void 0===r?[]:r,o=E()(t,{weekStartsOn:n}),i=[],s=0;s<X;s++)!function(e){var t=O()(o,e);a.some(function(e){return t.getDay()===e})||i.push(l({date:t}))}(s);return i}function d(e){var t=e.events,n=void 0===t?[]:t,r=e.viewDate,i=e.weekStartsOn,l=e.excluded,c=void 0===l?[]:l;n||(n=[]);var d=E()(r,{weekStartsOn:i}),u=A()(r,{weekStartsOn:i}),f=X-c.length,m=s({events:n,periodStart:d,periodEnd:u}).map(function(e){var t=o({event:e,startOfWeek:d,excluded:c});return{event:e,offset:t,span:a({event:e,offset:t,startOfWeek:d,excluded:c})}}).filter(function(e){return e.offset<f}).filter(function(e){return e.span>0}).map(function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<d,endsAfterWeek:(e.event.end||e.event.start)>u}}).sort(function(e,t){var n=j()(e.event.start,t.event.start);return 0===n?j()(t.event.end||t.event.start,e.event.end||e.event.start):n}),v=[],p=[];return m.forEach(function(e,t){if(-1===p.indexOf(e)){p.push(e);var n=e.span+e.offset,r=m.slice(t+1).filter(function(e){if(e.offset>=n&&n+e.span<=X&&-1===p.indexOf(e))return e.offset-=n,n+=e.span+e.offset,p.push(e),!0});v.push({row:[e].concat(r)})}}),v}function u(e){var t=e.events,n=void 0===t?[]:t,r=e.viewDate,a=e.weekStartsOn,o=e.excluded,i=void 0===o?[]:o;n||(n=[]);for(var c,d=E()(N()(r),{weekStartsOn:a}),u=A()(W()(r),{weekStartsOn:a}),f=s({events:n,periodStart:d,periodEnd:u}),m=[],v=0;v<y()(u,d)+1;v++)!function(e){var t;if(c?(t=k()(K()(c,ee)),c.getTime()===t.getTime()&&(t=k()(K()(c,ee+1))),c=t):t=c=d,!i.some(function(e){return t.getDay()===e})){var n=l({date:t}),a=s({events:f,periodStart:k()(t),periodEnd:p()(t)});n.inMonth=I()(t,r),n.events=a,n.badgeTotal=a.length,m.push(n)}}();for(var w=X-i.length,g=Math.floor(m.length/w),h=[],v=0;v<g;v++)h.push(v*w);return{rowOffsets:h,totalDaysVisibleInWeek:w,days:m}}function f(e){var t=e.events,n=void 0===t?[]:t,r=e.viewDate,a=e.hourSegments,o=e.dayStart,i=e.dayEnd,l=e.eventWidth,c=e.segmentHeight;n||(n=[]);var d=P()(q()(k()(r),o.hour),o.minute),u=P()(q()(_()(p()(r)),i.hour),i.minute),f=[],m=s({events:n.filter(function(e){return!e.allDay}),periodStart:d,periodEnd:u}).sort(function(e,t){return e.start.valueOf()-t.start.valueOf()}).map(function(e){var t=e.start,n=e.end||t,r=t<d,o=n>u,i=a*c/te,s=0;t>d&&(s+=Z()(t,d)),s*=i;var m=r?d:t,v=o?u:n,p=Z()(v,m);e.end?p*=i:p=c;for(var w=s+p,g=f.filter(function(e){var t=e.top,n=e.top+e.height;return s<n&&n<w||t<=s&&w<=n}),h=0;g.some(function(e){return e.left===h});)h+=l;var y={event:e,height:p,width:l,top:s,left:h,startsBeforeDay:r,endsAfterDay:o};return p>0&&f.push(y),y}).filter(function(e){return e.height>0});return{events:m,width:Math.max.apply(Math,m.map(function(e){return e.left+e.width})),allDayEvents:s({events:n.filter(function(e){return e.allDay}),periodStart:k()(d),periodEnd:p()(u)})}}function m(e){for(var t=e.viewDate,n=e.hourSegments,r=e.dayStart,a=e.dayEnd,o=[],i=P()(q()(k()(t),r.hour),r.minute),s=P()(q()(_()(p()(t)),a.hour),a.minute),l=te/n,c=k()(t),d=0;d<ee;d++){for(var u=[],f=0;f<n;f++){var m=g()(K()(c,d),f*l);m>=i&&m<s&&u.push({date:m,isStart:0===f})}u.length>0&&o.push({segments:u})}return o}Object.defineProperty(t,"__esModule",{value:!0});var v=n(19),p=n.n(v),w=n(13),g=n.n(w),h=n(16),y=n.n(h),D=n(2),k=n.n(D),b=n(24),C=n.n(b),x=n(22),T=n.n(x),M=n(32),E=n.n(M),$=n(11),O=n.n($),S=n(21),A=n.n(S),V=n(18),j=n.n(V),F=n(30),N=n.n(F),H=n(20),W=n.n(H),Y=n(25),I=n.n(Y),U=n(26),z=n.n(U),B=n(27),q=n.n(B),L=n(28),P=n.n(L),R=n(29),_=n.n(R),G=n(17),Z=n.n(G),J=n(12),K=n.n(J);t.getWeekViewEventOffset=o,t.getWeekViewHeader=c,t.getWeekView=d,t.getMonthView=u,t.getDayView=f,t.getDayViewHourGrid=m;var Q=[0,6],X=7,ee=24,te=60},function(e,t,n){function r(e,t){var n=a(e),r=Number(t);return n.setDate(n.getDate()+r),n}var a=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return a(e,n*o)}var a=n(3),o=36e5;e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return a(e,n*o)}var a=n(3),o=6e4;e.exports=r},function(e,t,n){function r(e,t){var n=a(e),r=n.getTime(),o=a(t),i=o.getTime();return r<i?-1:r>i?1:0}var a=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=a(e),r=a(t),s=n.getTime()-n.getTimezoneOffset()*o,l=r.getTime()-r.getTimezoneOffset()*o;return Math.round((s-l)/i)}var a=n(2),o=6e4,i=864e5;e.exports=r},function(e,t,n){function r(e,t){var n=a(e),r=a(t),s=i(n,r),l=Math.abs(o(n,r));return n.setDate(n.getDate()-s*l),s*(l-(i(n,r)===-s))}var a=n(1),o=n(15),i=n(14);e.exports=r},function(e,t,n){function r(e,t){var n=a(e,t)/o;return n>0?Math.floor(n):Math.ceil(n)}var a=n(4),o=6e4;e.exports=r},function(e,t,n){function r(e,t){var n=a(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var a=n(4);e.exports=r},function(e,t,n){function r(e){var t=a(e);return t.setHours(23,59,59,999),t}var a=n(1);e.exports=r},function(e,t,n){function r(e){var t=a(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}var a=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=t?Number(t.weekStartsOn)||0:0,r=a(e),o=r.getDay(),i=6+(o<n?-7:0)-(o-n);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}var a=n(1);e.exports=r},function(e,t,n){function r(e){return a(e).getDay()}var a=n(1);e.exports=r},function(e,t){function n(e){return e instanceof Date}e.exports=n},function(e,t,n){function r(e,t){var n=a(e),r=a(t);return n.getTime()===r.getTime()}var a=n(2);e.exports=r},function(e,t,n){function r(e,t){var n=a(e),r=a(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}var a=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=a(e),r=a(t);return n.getTime()===r.getTime()}var a=n(31);e.exports=r},function(e,t,n){function r(e,t){var n=a(e),r=Number(t);return n.setHours(r),n}var a=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=a(e),r=Number(t);return n.setMinutes(r),n}var a=n(1);e.exports=r},function(e,t,n){function r(e){var t=a(e);return t.setSeconds(0,0),t}var a=n(1);e.exports=r},function(e,t,n){function r(e){var t=a(e);return t.setDate(1),t.setHours(0,0,0,0),t}var a=n(1);e.exports=r},function(e,t,n){function r(e){var t=a(e);return t.setMilliseconds(0),t}var a=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=t?Number(t.weekStartsOn)||0:0,r=a(e),o=r.getDay(),i=(o<n?7:0)+o-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}var a=n(1);e.exports=r},function(e,t){e.exports='<div class=cal-context ng-switch=vm.view ng-if=vm.templatesLoaded> <div class="alert alert-danger" ng-switch-default>The value passed to the view attribute of the calendar is not set</div> <div class="alert alert-danger" ng-hide=vm.viewDate>The value passed to view-date attribute of the calendar is not set</div> <mwl-calendar-year events=vm.events view-date=vm.viewDate on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged on-timespan-click=vm.onTimespanClick cell-modifier=vm.cellModifier custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope today=vm.today ng-switch-when=year> </mwl-calendar-year> <mwl-calendar-month events=vm.events view-date=vm.viewDate on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect cell-modifier=vm.cellModifier custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope draggable-auto-scroll=vm.draggableAutoScroll today=vm.today ng-switch-when=month> </mwl-calendar-month> </div> '},function(e,t){e.exports='<table class="cal-table table-bordered cal-month-box"> <thead> <tr> <th ng-repeat="day in vm.weekDays track by $index" ng-bind=day></th> </tr> </thead> <tbody> <tr ng-repeat="rowOffset in vm.monthOffsets track by rowOffset"> <td ng-repeat="day in vm.view | calendarLimitTo:7:rowOffset track by $index" class=cal-cell ng-class="{\'cal-day-today\': day.isToday}" ng-click="vm.dayClicked(day, false, $event)" mwl-droppable on-drop="vm.handleEventDrop(dropData.event, day.date, dropData.draggedFromDate)" role=gridcell> <div class="cal-month-day {{ ::day.cssClass }}" ng-class="{\'cal-day-outmonth\': !day.inMonth}"> <div class=text-right> <span data-cal-date ng-bind=day.label></span> </div> <div class=events-list ng-show="day.events.length > 0"> <a ng-repeat="event in day.events | orderBy:\'startsAt\' track by event.calendarEventId" href=javascript:; ng-click="$event.stopPropagation(); vm.onEventClick(event)" class=event ng-class=event.cssClass ng-style="{backgroundColor: event.color.primary}" mwl-draggable="event.draggable !== false" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-bind=event.title> </a> </div> </div> </td> </tr> </tbody> </table> '},function(e,t){e.exports='<div class=cal-year-box> <div ng-repeat="rowOffset in [0, 2, 4, 6, 8, 10] track by rowOffset"> <div class="row cal-before-eventlist"> <div class="col-md-6 col-xs-12 {{ day.cssClass }}" ng-repeat="month in vm.view | calendarLimitTo:2:rowOffset track by $index"> <div class="text-center month-label"> <span ng-bind=month.label ng-click=vm.calendarCtrl.dateClicked(month.date) data-cal-date></span> </div> <mwl-calendar-month events=vm.events view-date=month.date on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect cell-modifier=vm.cellModifier custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope draggable-auto-scroll=vm.draggableAutoScroll today=vm.today> </mwl-calendar-month> </div> </div> </div> </div> '},function(e,t,n){"use strict";var r=n(0),a="Bootstrap calendar:";r.module("mwl.calendar").controller("MwlCalendarCtrl",["$scope","$log","$timeout","$attrs","moment","calendarTitle","calendarHelper",function(e,t,n,o,i,s,l){var c=this;c.changeView=function(e,t){c.view=e,c.viewDate=t},c.dateClicked=function(e){var t=i(e).toDate(),n={year:"month",month:"day",week:"day"};!1!==c.onViewChangeClick({calendarDate:t,calendarNextView:n[c.view]})&&c.changeView(n[c.view],t)},c.$onInit=function(){function d(e){e.startsAt?r.isDate(e.startsAt)||t.warn(a,"Event startsAt should be a javascript date object. Do `new Date(event.startsAt)` to fix it.",e):t.warn(a,"Event is missing the startsAt field",e),e.endsAt&&(r.isDate(e.endsAt)||t.warn(a,"Event endsAt should be a javascript date object. Do `new Date(event.endsAt)` to fix it.",e),i(e.startsAt).isAfter(i(e.endsAt))&&t.warn(a,"Event cannot start after it finishes",e))}function u(){s[c.view]&&r.isDefined(o.viewTitle)&&(c.viewTitle=s[c.view](c.viewDate)),c.events.forEach(function(e,t){d(e),e.calendarEventId=t});var t=i(c.viewDate),a=!0;f.clone().startOf(c.view).isSame(t.clone().startOf(c.view))&&!f.isSame(t)&&c.view===m&&(a=!1),f=t,m=c.view,a&&n(function(){e.$broadcast("calendar.refreshView")})}c.events=c.events||[];var f=i(c.viewDate),m=c.view;l.loadTemplates().then(function(){c.templatesLoaded=!0,e.$watchGroup(["vm.viewDate","vm.view"],function(e,t){e!==t&&u()}),e.$watch("vm.events",function(e,t){r.equals(e,t)||u()},!0)}).catch(function(e){t.error("Could not load all calendar templates",e)})},r.version.minor<5&&c.$onInit()}]).directive("mwlCalendar",function(){return{template:'<div mwl-dynamic-directive-template name="calendar" overrides="vm.customTemplateUrls"></div>',restrict:"E",scope:{events:"=",view:"=",viewTitle:"=?",viewDate:"=",customTemplateUrls:"=?",draggableAutoScroll:"=?",onEventClick:"=",onEventTimesChanged:"=",onTimespanClick:"=",onDateRangeSelect:"=?",onViewChangeClick:"&",cellModifier:"&",dayViewStart:"@",dayViewEnd:"@",dayViewSplit:"@",dayViewEventChunkSize:"@",dayViewEventWidth:"@",templateScope:"=?",dayViewTimePosition:"@",today:"="},controller:"MwlCalendarCtrl as vm",bindToController:!0}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").controller("MwlCalendarMonthCtrl",["$scope","$timeout","moment","calendarHelper","calendarConfig","calendarEventTitle",function(e,t,n,r,a,o){var i=this;i.calendarConfig=a,i.calendarEventTitle=o,i.openRowIndex=null,e.$on("calendar.refreshView",function(){i.refreshView()}),i.refreshView=function(){i.weekDays=r.getWeekDayNames(),t(function(){var e=r.getMonthView(i.events,i.viewDate,i.cellModifier,i.today);i.view=e.days,i.monthOffsets=e.rowOffsets})},i.dayClicked=function(e,t,n){!t&&i.onTimespanClick&&(i.onTimespanClick(e.date.toDate(),e,n),n&&n.defaultPrevented)},i.highlightEvent=function(e,t){i.view.forEach(function(n){delete n.highlightClass,delete n.backgroundColor,t&&n.events.indexOf(e)>-1&&(n.backgroundColor=e.color?e.color.secondary:"")})},i.handleEventDrop=function(e,t,a){var o=n(e.startsAt).year(n(t).year()).month(n(t).month()).date(n(t).date()),s=r.adjustEndDateFromStartDiff(e.startsAt,o,e.endsAt);i.onEventTimesChanged(e,t,o.toDate(),s?s.toDate():null,a)},i.getWeekNumberLabel=function(e){var t=e.date.clone().add(1,"day").isoWeek();return"function"==typeof a.i18nStrings.weekNumber?a.i18nStrings.weekNumber({weekNumber:t}):a.i18nStrings.weekNumber.replace("{week}",t)}}]).directive("mwlCalendarMonth",function(){return{template:'<div mwl-dynamic-directive-template name="calendarMonthView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",onDateRangeSelect:"=",onTimespanClick:"=",cellModifier:"=",slideBoxDisabled:"=",customTemplateUrls:"=?",templateScope:"=",draggableAutoScroll:"=",today:"="},controller:"MwlCalendarMonthCtrl as vm",link:function(e,t,n,r){e.vm.calendarCtrl=r,e.vm.refreshView()},bindToController:!0}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").controller("MwlCalendarYearCtrl",["$scope","moment","calendarHelper",function(e,t,n){var r=this;r.openMonthIndex=null,e.$on("calendar.refreshView",function(){r.view=n.getYearView(r.events,r.viewDate,r.cellModifier,r.today)}),r.monthClicked=function(e,t,n){!t&&r.monthClicked&&(r.onTimespanClick(e.date.toDate(),e,n),n&&n.defaultPrevented)},r.handleEventDrop=function(e,a){var o=t(e.startsAt).month(t(a).month()).year(t(a).year()),i=n.adjustEndDateFromStartDiff(e.startsAt,o,e.endsAt);r.onEventTimesChanged(e,a,o.toDate(),i?i.toDate():null)}}]).directive("mwlCalendarYear",function(){return{template:'<div mwl-dynamic-directive-template name="calendarYearView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",onTimespanClick:"=",cellModifier:"=",slideBoxDisabled:"=",customTemplateUrls:"=?",templateScope:"=",today:"="},controller:"MwlCalendarYearCtrl as vm",link:function(e,t,n,r){e.vm.calendarCtrl=r},bindToController:!0}})},function(e,t,n){"use strict";var r=n(0);r.module("mwl.calendar").controller("MwlDateModifierCtrl",["$element","$attrs","$scope","moment",function(e,t,n,a){function o(){r.isDefined(t.setToToday)?i.date=new Date:r.isDefined(t.increment)?i.date=a(i.date).add(1,i.increment).toDate():r.isDefined(t.decrement)&&(i.date=a(i.date).subtract(1,i.decrement).toDate()),n.$apply()}var i=this;e.bind("click",o),n.$on("$destroy",function(){e.unbind("click",o)})}]).directive("mwlDateModifier",function(){return{restrict:"A",controller:"MwlDateModifierCtrl as vm",scope:{date:"=",increment:"=",decrement:"="},bindToController:!0}})},function(e,t,n){"use strict";var r=n(0);r.module("mwl.calendar").controller("MwlDraggableCtrl",["$element","$scope","$window","$parse","$attrs","$timeout","interact",function(e,t,n,a,o,i,s){function l(e,t){return e.css("-ms-transform",t).css("-webkit-transform",t).css("transform",t)}if(s){var c,d;o.snapGrid&&(d=a(o.snapGrid)(t),c={targets:[s.createSnapGrid(d)]});var u=a(o.autoScroll)(t);void 0===u&&(u=!0),s(e[0]).draggable({autoScroll:u,snap:c,onstart:function(e){r.element(e.target).addClass("dragging-active"),e.target.dropData=a(o.dropData)(t),e.target.style.pointerEvents="none",o.onDragStart&&(a(o.onDragStart)(t),t.$apply())},onmove:function(e){var i=r.element(e.target),s=(parseFloat(i.attr("data-x"))||0)+(e.dx||0),c=(parseFloat(i.attr("data-y"))||0)+(e.dy||0);switch(a(o.axis)(t)){case"x":c=0;break;case"y":s=0}"static"===n.getComputedStyle(i[0]).position&&i.css("position","relative"),l(i,"translate("+s+"px, "+c+"px)").css("z-index",50).attr("data-x",s).attr("data-y",c),o.onDrag&&(a(o.onDrag)(t,{x:s,y:c}),t.$apply())},onend:function(e){var n=r.element(e.target),s=n.attr("data-x"),c=n.attr("data-y");e.target.style.pointerEvents="auto",o.onDragEnd&&(a(o.onDragEnd)(t,{x:s,y:c}),t.$apply()),i(function(){l(n,"").css("z-index","auto").removeAttr("data-x").removeAttr("data-y").removeClass("dragging-active")})}}).styleCursor(!1),t.$on("$destroy",function(){s(e[0]).unset()})}}]).directive("mwlDraggable",function(){return{restrict:"A",controller:"MwlDraggableCtrl"}})},function(e,t,n){"use strict";var r=n(0);r.module("mwl.calendar").controller("MwlDroppableCtrl",["$element","$scope","$parse","$attrs","interact",function(e,t,n,a,o){if(o){var i=a.dropActiveClass||"drop-active";o(e[0]).dropzone({ondragenter:function(e){r.element(e.target).addClass(i)},ondragleave:function(e){r.element(e.target).removeClass(i)},ondropdeactivate:function(e){r.element(e.target).removeClass(i)},ondrop:function(e){e.relatedTarget.dropData&&(n(a.onDrop)(t,{dropData:e.relatedTarget.dropData}),t.$apply())}}),t.$on("$destroy",function(){o(e[0]).unset()})}}]).directive("mwlDroppable",function(){return{restrict:"A",controller:"MwlDroppableCtrl"}})},function(e,t,n){"use strict";var r=n(0);r.module("mwl.calendar").controller("MwlDynamicDirectiveTemplateCtrl",["$compile","$scope","$attrs","$element","$templateCache","$log","calendarConfig",function(e,t,n,a,o,i,s){t.$watch(n.overrides,function(l){var c=s.templates[n.name];l&&r.isObject(l)&&l[n.name]&&(o.get(l[n.name])?c=l[n.name]:i.warn("Bootstrap Calendar","The custom template for "+l[n.name]+' was not found in the template cache. Please ensure it is pre-loaded via a script tag <script type="text/ng-template" id="'+l[n.name]+'">Custom template content<\/script> or via a tool such as https://www.npmjs.com/package/gulp-angular-templatecache'));var d=o.get(c);a.html(d),e(a.contents())(t)})}]).directive("mwlDynamicDirectiveTemplate",function(){return{restrict:"A",controller:"MwlDynamicDirectiveTemplateCtrl"}})},function(e,t,n){"use strict";var r=n(0);r.module("mwl.calendar").controller("MwlElementDimensionsCtrl",["$element","$scope","$parse","$attrs","$window",function(e,t,n,a,o){function i(){n(a.mwlElementDimensions).assign(t,{width:e[0].offsetWidth-1,height:e[0].offsetHeight}),t.$applyAsync()}var s=r.element(o);s.bind("resize",i),i(),t.$on("$destroy",function(){s.unbind("resize",i)})}]).directive("mwlElementDimensions",function(){return{restrict:"A",controller:"MwlElementDimensionsCtrl"}})},function(e,t,n){"use strict";function r(e){e.keys().forEach(e)}n(5);var a=n(0),o={},i=n(9);i.keys().forEach(function(e){var t=e.replace("./",""),n="mwl/"+t,r=t.replace(".html","");o[r]={cacheTemplateName:n,template:i(e)}}),e.exports=a.module("mwl.calendar",[]).config(["calendarConfig",function(e){a.forEach(o,function(t,n){e.templates[n]||(e.templates[n]=t.cacheTemplateName)})}]).run(["$templateCache","$interpolate",function(e,t){a.forEach(o,function(n){if(!e.get(n.cacheTemplateName)){var r=n.template.replace("{{",t.startSymbol()).replace("}}",t.endSymbol());e.put(n.cacheTemplateName,r)}})}]).name,r(n(6)),r(n(7)),r(n(8))},function(e,t,n){"use strict";n(0).module("mwl.calendar").filter("calendarDate",["calendarHelper","calendarConfig",function(e,t){function n(n,r,a){return!0===a&&(r=t.dateFormats[r]),e.formatDate(n,r)}return n.$stateful=!0,n}])},function(e,t,n){"use strict";var r=n(0);r.module("mwl.calendar").filter("calendarLimitTo",["limitToFilter",function(e){return r.version.minor>=4?e:function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):parseInt(t),isNaN(t)?e:(r.isNumber(e)&&(e=e.toString()),r.isArray(e)||r.isString(e)?(n=!n||isNaN(n)?0:parseInt(n),n=n<0&&n>=-e.length?e.length+n:n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}])},function(e,t,n){"use strict";n(0).module("mwl.calendar").filter("calendarTrustAsHtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}])},function(e,t,n){"use strict";n(0).module("mwl.calendar").constant("calendarConfig",{allDateFormats:{angular:{date:{hour:"ha",day:"d MMM",month:"MMMM",weekDay:"EEE",time:"HH:mm",datetime:"MMM d, h:mm a"},title:{day:"EEEE d MMMM, yyyy",week:"Week {week} of {year}",month:"MMMM yyyy",year:"yyyy"}},moment:{date:{hour:"ha",day:"D MMM",month:"MMMM",weekDay:"ddd",time:"HH:mm",datetime:"MMM D, h:mm a"},title:{day:"dddd D MMMM, YYYY",week:"Week {week} of {year}",month:"MMMM YYYY",year:"YYYY"}}},get dateFormats(){return this.allDateFormats[this.dateFormatter].date},get titleFormats(){return this.allDateFormats[this.dateFormatter].title},dateFormatter:"moment",showTimesOnWeekView:!1,displayAllMonthEvents:!0,i18nStrings:{weekNumber:"Week {week}"},templates:{},colorTypes:{info:{primary:"#1e90ff",secondary:"#d1e8ff"},important:{primary:"#ad2121",secondary:"#fae3e3"},warning:{primary:"#e3bc08",secondary:"#fdf1ba"},inverse:{primary:"#1b1b1b",secondary:"#c1c1c1"},special:{primary:"#800080",secondary:"#ffe6ff"},success:{primary:"#006400",secondary:"#caffca"}}})},function(e,t,n){"use strict";n(0).module("mwl.calendar").factory("calendarEventTitle",["calendarDateFilter",function(e){function t(t){return t.title+" ("+e(t.startsAt,"datetime",!0)+")"}function n(t){return t.title+" ("+e(t.startsAt,"time",!0)+")"}function r(t){return e(t.startsAt,"time",!0)+" - "+t.title}return{yearView:t,monthView:n,monthViewTooltip:r}}])},function(e,t,n){"use strict";var r=n(0),a=n(10);r.module("mwl.calendar").factory("calendarHelper",["$q","$templateRequest","dateFilter","moment","calendarConfig",function(e,t,n,r,o){function i(e,t){if("angular"===o.dateFormatter)return n(r(e).toDate(),t);if("moment"===o.dateFormatter)return r(e).format(t);throw new Error("Unknown date formatter: "+o.dateFormatter)}function s(e,t,n){if(!n)return n;var a=r(t).diff(r(e));return r(n).add(a)}function l(e,t,n){var a=r(e.start),o=r(e.end),i=r(n);if(t){switch(t){case"year":a.set({year:i.year()});break;case"month":a.set({year:i.year(),month:i.month()});break;default:throw new Error("Invalid value ("+t+") given for recurs on. Can only be year or month.")}o=s(e.start,a,o)}return{start:a,end:o}}function c(e,t,n){t=r(t),n=r(n);var a=l({start:e.startsAt,end:e.endsAt||e.startsAt},e.recursOn,t),o=a.start,i=a.end;return o.isAfter(t)&&o.isBefore(n)||i.isAfter(t)&&i.isBefore(n)||o.isBefore(t)&&i.isAfter(n)||o.isSame(t)||i.isSame(n)}function d(e,t,n){return e.filter(function(e){return c(e,t,n)})}function u(e,t,n){return d(n,r(e).startOf(t),r(e).endOf(t))}function f(e){return e.filter(function(e){return!1!==e.incrementsBadgeTotal}).length}function m(){for(var e=[],t=0;t<7;)e.push(i(r().weekday(t++),o.dateFormats.weekDay));return e}function v(e,t,n,a){for(var s=[],l=u(t,"year",e),c=r(t).startOf("year"),m=0;m<12;){var v=c.clone(),p=v.clone().endOf("month"),w=d(l,v,p),g={label:i(v,o.dateFormats.month),isToday:v.isSame(a?r(a).startOf("month"):r().startOf("month")),events:w,date:v,badgeTotal:f(w)};n({calendarCell:g}),s.push(g),c.add(1,"month"),m++}return s}function p(e,t){return e.start=t.start.toDate(),e.endsAt&&(e.end=t.end.toDate()),e}function w(e,t,n,i){e.forEach(function(e){p(e,l({start:r(e.startsAt),end:r(e.endsAt||e.startsAt)},e.recursOn,r(t).startOf("month")))});var s=a.getMonthView({events:e,viewDate:t,weekStartsOn:r().startOf("week").day()});return s.days=s.days.map(function(e){return e.date=r(e.date),e.label=e.date.date(),e.badgeTotal=f(e.events),i&&(e.isToday=e.date.isSame(i,"day")),o.displayAllMonthEvents||e.inMonth||(e.events=[]),n({calendarCell:e}),e}),e.forEach(function(e){delete e.start,delete e.end}),s}function g(e,t){var n=a.getWeekViewHeader({viewDate:t,weekStartsOn:r().startOf("week").day()}).map(function(e){return e.date=r(e.date),e.weekDayLabel=i(e.date,o.dateFormats.weekDay),e.dayLabel=i(e.date,o.dateFormats.day),e}),s=r(t).startOf("week"),c=r(t).endOf("week");return{days:n,eventRows:a.getWeekView({viewDate:t,weekStartsOn:r().startOf("week").day(),events:d(e,s,c).map(function(e){var t=r(s).startOf("day"),n=l({start:r(e.startsAt),end:r(e.endsAt||e.startsAt)},e.recursOn,t),a={originalEvent:e,start:n.start.toDate()};return e.endsAt&&(a.end=n.end.toDate()),a})}).map(function(e){return e.row=e.row.map(function(e){return e.event=e.event.originalEvent,e}),e})}}function h(e,t,n,o,i,s){var c=(n||"00:00").split(":"),d=(o||"23:59").split(":"),u=a.getDayView({events:e.map(function(e){return p(e,l({start:r(e.startsAt),end:r(e.endsAt||e.startsAt)},e.recursOn,r(t).startOf("day")))}),viewDate:t,hourSegments:60/i,dayStart:{hour:c[0],minute:c[1]},dayEnd:{hour:d[0],minute:d[1]},eventWidth:s?+s:150,segmentHeight:30});return e.forEach(function(e){delete e.start,delete e.end}),u}function y(e,t,n,o,i){var s=g(e,t),l=[],c=[];return s.eventRows.forEach(function(e){e.row.forEach(function(e){c.push(e.event)})}),s.days.forEach(function(e){var t=c.filter(function(t){return r(t.startsAt).startOf("day").isSame(r(e.date).startOf("day"))}),a=h(t,e.date,n,o,i).events;l=l.concat(a)}),s.eventRows=[{row:l.map(function(e){var n=e.event;return{event:n,top:e.top,offset:a.getWeekViewEventOffset({event:{start:n.startsAt,end:n.endsAt},startOfWeek:r(t).startOf("week").toDate()})}})}],s}function D(e,t,n){var a=r(e||"00:00","HH:mm"),o=r(t||"23:59","HH:mm"),i=60/n*30;return o.diff(a,"minutes")/60*i+3}function k(){var n=Object.keys(o.templates).map(function(e){var n=o.templates[e];return t(n)});return e.all(n)}return{getWeekDayNames:m,getYearView:v,getMonthView:w,getWeekView:g,getDayView:h,getWeekViewWithTimes:y,getDayViewHeight:D,adjustEndDateFromStartDiff:s,formatDate:i,loadTemplates:k,eventIsInPeriod:c}}])},function(e,t,n){"use strict";n(0).module("mwl.calendar").factory("calendarTitle",["calendarConfig","calendarHelper",function(e,t){function n(n){return t.formatDate(n,e.titleFormats.month)}function r(n){return t.formatDate(n,e.titleFormats.year)}return{month:n,year:r}}])},function(e,t,n){"use strict";var r,a=n(0);try{r=n(55)}catch(e){r=null}a.module("mwl.calendar").constant("interact",r)},function(e,t,n){"use strict";var r=n(0),a=n(54);r.module("mwl.calendar").constant("moment",a)},function(e,n){e.exports=t},function(e,t){if(void 0===n){var r=new Error('Cannot find module "undefined"');throw r.code="MODULE_NOT_FOUND",r}e.exports=n}])});
//# sourceMappingURL=angular-bootstrap-calendar-tpls.min.js.map